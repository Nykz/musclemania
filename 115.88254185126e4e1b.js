"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[115],{8655:(b,h,r)=>{r.d(h,{V:()=>E});var p=r(177),e=r(5239),l=r(3953);const f=c=>({transform:c});function a(c,S){if(1&c&&(l.j41(0,"ion-text")(1,"p"),l.EFF(2),l.k0s()()),2&c){const g=l.XpG();l.R7$(2),l.JRh(g.model.subTitle)}}let E=(()=>{var c;class S{constructor(){this.fontSize="18rem",this.isMargin="translateY(10vh)"}ngOnInit(){}}return(c=S).\u0275fac=function(k){return new(k||c)},c.\u0275cmp=l.VBU({type:c,selectors:[["app-empty-screen"]],inputs:{model:"model",fontSize:"fontSize",isMargin:"isMargin"},standalone:!0,features:[l.aNF],decls:9,vars:9,consts:[[3,"ngStyle"],[1,"ion-text-center"],[3,"name","color"],[4,"ngIf"]],template:function(k,d){1&k&&(l.j41(0,"ion-grid",0)(1,"ion-row")(2,"ion-col",1),l.nrm(3,"ion-icon",2),l.k0s()(),l.j41(4,"ion-row")(5,"ion-col",1)(6,"ion-label"),l.EFF(7),l.k0s(),l.DNE(8,a,3,1,"ion-text",3),l.k0s()()()),2&k&&(l.Y8G("ngStyle",l.eq3(7,f,d.model.noSpace?"0vh":d.isMargin)),l.R7$(3),l.xc7("font-size",d.fontSize),l.Y8G("name",d.model.icon)("color",d.model.color?d.model.color:"tertiary"),l.R7$(4),l.SpI(" ",d.model.title," "),l.R7$(),l.Y8G("ngIf",null==d.model?null:d.model.subTitle))},dependencies:[e.lO,e.ln,e.hU,e.iq,e.he,e.IO,p.bT,p.B3]}),S})()},5115:(b,h,r)=>{r.r(h),r.d(h,{SkillsPage:()=>I});var p=r(467),e=r(3953),l=r(9967),f=r(4341),a=r(5239),E=r(5079),c=r(5873),S=r(8655),g=r(9642),k=r(3202);const d=()=>[.5,.9,1];function D(s,m){if(1&s){const o=e.RV6();e.j41(0,"ion-item",6)(1,"ion-label"),e.EFF(2),e.k0s(),e.j41(3,"ion-button",10),e.bIt("click",function(){const n=e.eBV(o).$implicit,t=e.XpG();return e.Njj(t.editSkill(n))}),e.nrm(4,"ion-icon",11),e.k0s(),e.j41(5,"ion-button",12),e.bIt("click",function(){const n=e.eBV(o).$implicit,t=e.XpG();return e.Njj(t.deleteSkill(n))}),e.nrm(6,"ion-icon",13),e.k0s()()}if(2&s){const o=m.$implicit;e.R7$(2),e.SpI(" ",null==o?null:o.name," ")}}function T(s,m){if(1&s&&e.nrm(0,"app-empty-screen",7),2&s){const o=e.XpG();e.Y8G("model",o.emptyModel)}}function O(s,m){if(1&s){const o=e.RV6();e.j41(0,"ion-button",18),e.bIt("click",function(){e.eBV(o);const n=e.XpG(2),t=e.sdS(16);return e.Njj(n.save(t))}),e.j41(1,"ion-text"),e.EFF(2,"SAVE"),e.k0s()()}if(2&s){const o=e.XpG(2);e.Y8G("disabled",!o.name||""==o.name.trim())}}function j(s,m){1&s&&(e.j41(0,"ion-button",17),e.nrm(1,"ion-spinner",19),e.k0s())}function C(s,m){if(1&s){const o=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.k0s()()(),e.j41(4,"ion-content")(5,"div",14)(6,"ion-input",15),e.mxI("ngModelChange",function(n){e.eBV(o);const t=e.XpG();return e.DH7(t.name,n)||(t.name=n),e.Njj(n)}),e.k0s(),e.j41(7,"div",6),e.DNE(8,O,3,1,"ion-button",16)(9,j,2,0,"ion-button",17),e.k0s()()()}if(2&s){const o=e.XpG();e.R7$(3),e.SpI("",o.name?"Edit":"Add"," Skill"),e.R7$(3),e.R50("ngModel",o.name),e.R7$(2),e.vxM(o.isSave?9:8)}}let I=(()=>{var s;class m{constructor(){this.skills=[],this.isAddSkill=!1,this.isSave=!1,this.emptyModel={title:"No skills added yet",icon:"ribbon-outline"},this.apiService=(0,e.WQX)(g.G),this.global=(0,e.WQX)(k.d),(0,E.a)({createOutline:c.hmR,addCircle:c.YH_,trashOutline:c.P1A})}ngOnInit(){this.getSkills()}getSkills(i){var n=this;return(0,p.A)(function*(){try{const t=n.apiService.collectionFirestoreRef("skills");let _=(0,l.P)(t,n.apiService.limitQuery(10));n.lastVisible&&i&&(_=(0,l.P)(_,n.apiService.startAfterQuery(n.lastVisible)));const u=yield n.apiService.getDocsByQuery(_);n.lastVisible=u.docs[u.docs.length-1],console.log("last",n.lastVisible);const P=yield u.docs.map(y=>{let M=y.data();return M.id=y.id,M});console.log("skills",P);let v=n.skills;v=v.concat(P),n.skills=v}catch(t){console.log(t),n.global.checkMessageForErrorToast(t)}})()}loadMore(i){var n=this;return(0,p.A)(function*(){try{console.log(i);const t=yield n.getSkills(!0);console.log(t),setTimeout(()=>{i.target.complete()},500)}catch(t){console.log(t),n.global.checkMessageForErrorToast(t)}})()}editSkill(i){this.isAddSkill=!0,this.name=null==i?void 0:i.name,this.id=null==i?void 0:i.id}reset(){this.isAddSkill=!1,this.id=null,this.name=null}save(i){var n=this;return(0,p.A)(function*(){try{if(n.isSave=!0,n.id){const t=yield n.apiService.updateDocument(`skills/${n.id}`,{name:n.name});console.log(t);const _=n.skills.findIndex(u=>u.id==n.id);n.skills[_]={id:n.id,name:n.name}}else{const _={id:(yield n.apiService.addDocument("skills",{name:n.name})).id,name:n.name};n.skills=n.skills.concat(_)}n.isSave=!1,i.dismiss()}catch(t){console.log(t),n.isSave=!1,n.global.checkMessageForErrorToast(t)}})()}deleteSkill(i){this.global.showAlert(`Are you sure you want to exclude '${null==i?void 0:i.name}' from the list?`,"Confirm",[{text:"No",role:"cancel"},{text:"Yes",handler:()=>{this.removeSkill(i)}}])}removeSkill(i){var n=this;return(0,p.A)(function*(){try{n.global.showLoader();const t=yield n.apiService.deleteDocument(`skills/${null==i?void 0:i.id}`);console.log(t),n.skills=n.skills.filter(_=>_.id!=(null==i?void 0:i.id)),n.global.hideLoader()}catch(t){console.log(t),n.global.hideLoader(),n.global.checkMessageForErrorToast(t)}})()}}return(s=m).\u0275fac=function(i){return new(i||s)},s.\u0275cmp=e.VBU({type:s,selectors:[["app-skills"]],standalone:!0,features:[e.aNF],decls:18,vars:5,consts:[["add_skill_modal",""],["color","secondary"],["slot","start"],["slot","end"],["color","primary",3,"click"],["slot","icon-only","name","add-circle"],[1,"ion-margin-top"],[3,"model"],[3,"ionInfinite"],[3,"didDismiss","isOpen","breakpoints","initialBreakpoint"],["fill","clear","slot","end","color","tertiary",3,"click"],["name","create-outline"],["fill","clear","slot","end","color","danger",3,"click"],["name","trash-outline"],[1,"ion-margin"],["label","","placeholder","Name","errorText","* Please enter the skill",3,"ngModelChange","ngModel"],["expand","block","shape","round","size","large","color","tertiary",3,"disabled"],["expand","block","shape","round","size","large","color","tertiary"],["expand","block","shape","round","size","large","color","tertiary",3,"click","disabled"],["name","crescent","color","light"]],template:function(i,n){if(1&i){const t=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar",1)(2,"ion-title"),e.EFF(3,"Skills"),e.k0s(),e.j41(4,"ion-buttons",2),e.nrm(5,"ion-menu-button"),e.k0s(),e.j41(6,"ion-buttons",3)(7,"ion-button",4),e.bIt("click",function(){return e.eBV(t),e.Njj(n.isAddSkill=!0)}),e.nrm(8,"ion-icon",5),e.k0s()()()(),e.j41(9,"ion-content"),e.Z7z(10,D,7,1,"ion-item",6,e.Vm6,!1,T,1,1,"app-empty-screen",7),e.j41(13,"ion-infinite-scroll",8),e.bIt("ionInfinite",function(u){return e.eBV(t),e.Njj(n.loadMore(u))}),e.nrm(14,"ion-infinite-scroll-content"),e.k0s(),e.j41(15,"ion-modal",9,0),e.bIt("didDismiss",function(){return e.eBV(t),e.Njj(n.reset())}),e.DNE(17,C,10,3,"ng-template"),e.k0s()()}2&i&&(e.R7$(10),e.Dyx(n.skills),e.R7$(5),e.Y8G("isOpen",n.isAddSkill)("breakpoints",e.lJ4(4,d))("initialBreakpoint",.5))},dependencies:[a.Hp,a.Ax,a.w2,a.IO,a.$w,a.Sb,a.he,a.uz,a.iq,a.Jm,a.MC,a.QW,a.W9,a.eU,a.BC,a.ai,f.YN,f.BC,f.vS,S.V],styles:["ion-button[size=large][_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-size:1rem}"]}),m})()}}]);