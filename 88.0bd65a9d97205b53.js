"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[88],{2088:(j,d,a)=>{a.r(d),a.d(d,{LoginPage:()=>C});var u=a(467),n=a(3953),t=a(4341),i=a(5239),p=a(8976),h=a(1339),f=a(3202);let b=(()=>{var s;class c{constructor(){this.check_email=new n.bkB}ngOnInit(){}onSubmit(e){console.log(e),e.valid&&this.check_email.emit(e.value.email)}}return(s=c).\u0275fac=function(e){return new(e||s)},s.\u0275cmp=n.VBU({type:s,selectors:[["app-reset-password"]],outputs:{check_email:"check_email"},standalone:!0,features:[n.aNF],decls:19,vars:2,consts:[["f","ngForm"],["emailCtrl","ngModel"],[1,"ion-no-border"],["lines","none",1,"ion-margin-top"],[1,"ion-padding"],[3,"fullscreen"],[3,"ngSubmit"],[1,"ion-padding-horizontal"],[1,"ion-margin"],["name","mail","slot","start","color","medium"],["label","","type","email","name","email","ngModel","","email","","placeholder","Email","required",""],["expand","block","size","large","shape","round","color","primary","type","submit",3,"disabled"],["color","light"]],template:function(e,o){if(1&e){const r=n.RV6();n.j41(0,"ion-header",2)(1,"ion-list",3)(2,"ion-list-header",4)(3,"ion-label"),n.EFF(4," Forgot password "),n.j41(5,"p"),n.EFF(6," Enter your email for the verification process, we will send a reset link to your email. "),n.k0s()()()()(),n.j41(7,"ion-content",5)(8,"form",6,0),n.bIt("ngSubmit",function(){n.eBV(r);const O=n.sdS(9);return n.Njj(o.onSubmit(O))}),n.j41(10,"ion-list",3)(11,"ion-item-group",7)(12,"ion-item",8),n.nrm(13,"ion-icon",9)(14,"ion-input",10,1),n.k0s()()(),n.j41(16,"ion-button",11)(17,"ion-text",12),n.EFF(18," GET LINK "),n.k0s()()()()}if(2&e){const r=n.sdS(9);n.R7$(7),n.Y8G("fullscreen",!0),n.R7$(9),n.Y8G("disabled",!r.valid)}},dependencies:[i.$w,i.eU,i.AF,i.nf,i.he,i.W9,i.jh,i.uz,i.iq,i.Jm,i.IO,t.YN,t.qT,t.BC,t.cb,t.YS,t.Dg,t.vS,t.cV],styles:["ion-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:700;font-size:1.4rem;letter-spacing:.5px}ion-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1.5vh;font-size:.75rem}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{border:1px solid var(--ion-color-medium);border-radius:10px}ion-button[_ngcontent-%COMP%]{margin:3vh 3vh 0}ion-button[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-size:.9rem}"]}),c})();var P=a(5079),g=a(5873);const v=()=>[.1,.5,.9];function _(s,c){if(1&s){const l=n.RV6();n.j41(0,"ion-button",19),n.bIt("click",function(){n.eBV(l);const o=n.XpG();return n.Njj(o.onSubmit())}),n.j41(1,"ion-text",20)(2,"strong"),n.EFF(3,"Log In"),n.k0s()()()}}function w(s,c){1&s&&(n.j41(0,"ion-button",17),n.nrm(1,"ion-spinner",21),n.k0s())}function k(s,c){if(1&s){const l=n.RV6();n.j41(0,"app-reset-password",22),n.bIt("check_email",function(o){n.eBV(l);const r=n.XpG();return n.Njj(r.sendResetPasswordEmail(o))}),n.k0s()}}let C=(()=>{var s;class c{constructor(){this.isLogin=!1,this.isResetPwd=!1,this.authService=(0,n.WQX)(h.u),this.global=(0,n.WQX)(f.d),(0,P.a)({personOutline:g.wAZ,keyOutline:g.uNo,mail:g.kiB}),this.initForm()}ngOnInit(){setTimeout(()=>{this.global.customStatusbar(!0)},500)}initForm(){this.form=new t.gE({email:new t.MJ("",[t.k0.required,t.k0.email]),password:new t.MJ("",[t.k0.required,t.k0.minLength(8)])})}onSubmit(){this.form.invalid?this.form.markAllAsTouched():(console.log(this.form.value),this.login())}login(){this.isLogin=!0,this.authService.login(this.form.value.email,this.form.value.password).then(e=>{console.log(e),e?(this.navigate(e),this.isLogin=!1,this.form.reset()):(this.isLogin=!1,this.global.showAlert("You are not an Authorized User! Please try again with proper credentials."))}).catch(e=>{console.log(e),this.isLogin=!1;let o="Could not sign you in, please try again.";"auth/user-not-found"==e.code?o="E-mail address could not be found":"auth/wrong-password"==e.code&&(o="Please enter a correct password"),this.global.showAlert(o)})}navigate(e){this.global.navigateByUrl(p.D.TABS)}sendResetPasswordEmail(e){var o=this;return(0,u.A)(function*(){try{o.global.showLoader();const r=yield o.authService.resetPassword(e);console.log(r),o.global.successToast("Reset Password Link is sent to your Email Address"),o.global.hideLoader()}catch(r){console.log(r),o.global.hideLoader(),o.global.checkErrorMessageForAlert(r,"Something went wrong, please try again")}})()}}return(s=c).\u0275fac=function(e){return new(e||s)},s.\u0275cmp=n.VBU({type:s,selectors:[["app-login"]],standalone:!0,features:[n.aNF],decls:23,vars:8,consts:[["forgot_pwd_modal",""],[3,"fullscreen"],[1,"ion-text-center","ion-margin-vertical","logo"],["src","assets/imgs/logo.png"],[1,"auth"],[3,"formGroup"],["lines","none",1,"ion-margin-horizontal","ion-margin-top"],["slot","start","fill","clear","color","medium"],["slot","icon-only","name","person-outline"],["type","email","label","","formControlName","email","placeholder","Email","errorText","* Enter proper email address"],["lines","none",1,"ion-margin"],["slot","icon-only","name","key-outline"],["type","password","label","","placeholder","Password","formControlName","password",3,"errorText"],["slot","end"],[1,"ion-text-right","ion-margin-horizontal"],["color","dark",1,"fwd",3,"click"],[1,"ion-margin","submit"],["expand","block","size","large"],[3,"didDismiss","isOpen","breakpoints","initialBreakpoint"],["expand","block","size","large",3,"click"],["color","light"],["name","crescent","color","primary"],[3,"check_email"]],template:function(e,o){if(1&e){const r=n.RV6();n.j41(0,"ion-content",1)(1,"div",2),n.nrm(2,"img",3),n.k0s(),n.j41(3,"ion-card",4)(4,"form",5)(5,"ion-item",6)(6,"ion-button",7),n.nrm(7,"ion-icon",8),n.k0s(),n.nrm(8,"ion-input",9),n.k0s(),n.j41(9,"ion-item",10)(10,"ion-button",7),n.nrm(11,"ion-icon",11),n.k0s(),n.j41(12,"ion-input",12),n.nrm(13,"ion-input-password-toggle",13),n.k0s()(),n.j41(14,"div",14)(15,"ion-text",15),n.bIt("click",function(){return n.eBV(r),n.Njj(o.isResetPwd=!0)}),n.EFF(16,"Forgot Password?"),n.k0s()(),n.j41(17,"div",16),n.DNE(18,_,4,0,"ion-button",17)(19,w,2,0,"ion-button",17),n.k0s()()(),n.j41(20,"ion-modal",18,0),n.bIt("didDismiss",function(){return n.eBV(r),n.Njj(o.isResetPwd=!1)}),n.DNE(22,k,1,0,"ng-template"),n.k0s()()}2&e&&(n.Y8G("fullscreen",!0),n.R7$(4),n.Y8G("formGroup",o.form),n.R7$(8),n.Y8G("errorText",o.form.get("password").hasError("minlength")?"* Password must be min. 8 characters long":"* Enter a proper password"),n.R7$(6),n.vxM(o.isLogin?19:18),n.R7$(2),n.Y8G("isOpen",o.isResetPwd)("breakpoints",n.lJ4(7,v))("initialBreakpoint",.5))},dependencies:[i.Sb,i.w2,i.iq,i.Jm,i.IO,i.$w,i.Wv,i.uz,i.b_,i.W9,t.X1,t.qT,t.BC,t.cb,t.j4,t.JD,b],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-primary)}ion-content[_ngcontent-%COMP%]   div.logo[_ngcontent-%COMP%]{margin:8vh 0}ion-content[_ngcontent-%COMP%]   div.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15vh;width:15vh}div.signup[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-size:.8rem;vertical-align:-webkit-baseline-middle}div.signup[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 0;margin-left:0}"]}),c})()}}]);